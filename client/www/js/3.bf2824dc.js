(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"013f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"fit row justify-center bg-white q-py-xs"},[s("div",{staticClass:"column justify-center self-center q-pb-xs q-px-md",staticStyle:{width:"400px"}},[s("div",{staticClass:"row justify-center self-center q-pb-none q-mb-none",staticStyle:{width:"150px"}},[s("q-img",{attrs:{src:t.url,"spinner-color":"white"}})],1),s("div",{staticClass:"text-center q-pt-noe text-h5 q-pb-md"},[t._v("\n      Bienvenue\n    ")]),s("q-card",{staticClass:"my-card",attrs:{bordered:""}},[s("q-card-section",{staticClass:"text-center bg-primary text-white text-h5 q-py-xs",staticStyle:{width:"100%"}},[t._v("Identification")]),s("q-separator"),s("q-card-section",{staticClass:"q-pb-none"},[s("q-form",{staticClass:"q-px-xl"},[s("q-input",{attrs:{filled:"","bottom-slots":"",label:"*E-mail :",dense:t.dense,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"E-mail obligatoire!"}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{attrs:{filled:"","bottom-slots":"",type:"password",label:"Mot de passe :",dense:t.dense},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("q-card-actions",{staticClass:"row items-center justify-center q-mt-md q-py-none"},[s("div",{staticClass:"q-gutter-xl"},[s("q-btn",{attrs:{color:"primary",icon:"lock","text-color":"white",label:"Connexion",disable:""==t.email&&""==t.password},on:{click:function(e){return t.onSubmit(t.email,t.password)}}})],1)]),s("q-card-section",{staticClass:"col text-center",attrs:{separator:""}},[t._v("Entrez votre email et mot de passe et si vous n'êtes pas incrit cliquez ci-dessous")])],1)],1),s("div",{staticClass:"row fit justify-center q-pa-xs"},[s("q-btn",{attrs:{color:"primary","text-color":"white",label:"S'inscrire...","no-caps":"",to:"/register"}})],1)])},n=[],r=s("c973"),o=s.n(r),c=s("ded3"),i=s.n(c),l=(s("96cf"),s("ac1f"),s("5319"),s("cca6"),s("2f62")),u={name:"LoginPage",data:function(){return{email:"",password:"",url:"logo_hdcapp.png",error:"",dense:!0}},computed:i()(i()({},Object(l["d"])("auth",["isAuthenticated","user"])),{},{checkIsAuthenticated:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Init"),e.next=3,t.$store.dispatch("auth/authenticate").catch((function(t){console.log("Non authentifié!")}));case 3:if(s=e.sent,console.log("Auth :",s),s.user)try{t.$router.replace("/")}catch(a){}case 6:case"end":return e.stop()}}),e)})))()}}),setup:function(t,e){console.log("Propriétées :",t),console.log("Context :",e)},methods:{onSubmit:function(t,e){var s=this;console.log("Click"),this.$store.dispatch("auth/authenticate",{strategy:"local",email:t,password:e}).then((function(t){console.log("Result :",t.user),s.$router.replace("/")})).catch((function(t){console.log("Erreur fatale");var e=t.className;t=Object.assign({},t),t.message="not-authenticated"===e?"Incorrect email or password.":"An error prevented login.",s.error=t}))}}},d=u,p=(s("50ba"),s("2877")),f=s("9989"),m=s("068f"),h=s("f09f"),b=s("a370"),w=s("eb85"),g=s("0378"),q=s("27f9"),x=s("4b7e"),v=s("9c40"),y=s("eebe"),C=s.n(y),k=Object(p["a"])(d,a,n,!1,null,null,null);e["default"]=k.exports;C()(k,"components",{QPage:f["a"],QImg:m["a"],QCard:h["a"],QCardSection:b["a"],QSeparator:w["a"],QForm:g["a"],QInput:q["a"],QCardActions:x["a"],QBtn:v["a"]})},"50ba":function(t,e,s){"use strict";s("fe3c")},fe3c:function(t,e,s){}}]);